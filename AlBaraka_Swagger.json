{
  "swagger": "2.0",
  "info": {
    "title": "AlBaraka EXT Python API",
    "version": "1.0.0"
  },
  "basePath": "/core",
  "schemes": ["https"],
  "consumes": ["application/json"],
  "produces": ["application/json"],
  "paths": {
    "/customers/createCIF": {
      "post": {
        "tags": ["Customers"],
        "x-k2-entityName": "Customers",
        "operationId": "CreateCIF",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": { "$ref": "#/definitions/CustomerIn" }
          }
        ],
        "responses": {
          "201": {
            "description": "CIF created successfully",
            "schema": { "$ref": "#/definitions/CustomerOut" }
          }
        }
      }
    },
    "/customers/{cif}": {
      "get": {
        "tags": ["Customers"],
        "x-k2-entityName": "Customers",
        "operationId": "GetCustomerByCIF",
        "parameters": [
          { "name": "cif", "in": "path", "required": true, "type": "string" }
        ],
        "responses": {
          "200": {
            "description": "Customer details",
            "schema": { "$ref": "#/definitions/CustomerOut" }
          }
        }
      }
    },
    "/customers/list": {
      "get": {
        "tags": ["Customers"],
        "x-k2-entityName": "Customers",
        "operationId": "ListCustomers",
        "responses": {
          "200": {
            "description": "List of customers",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/CustomerOut" }
            }
          }
        }
      }
    },

    "/accounts/createAccount": {
      "post": {
        "tags": ["Accounts"],
        "x-k2-entityName": "Accounts",
        "operationId": "CreateAccount",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": { "$ref": "#/definitions/AccountIn" }
          }
        ],
        "responses": {
          "201": {
            "description": "Account created",
            "schema": { "$ref": "#/definitions/AccountOut" }
          }
        }
      }
    },
    "/accounts/{accountNo}": {
      "get": {
        "tags": ["Accounts"],
        "x-k2-entityName": "Accounts",
        "operationId": "GetAccountByNumber",
        "parameters": [
          { "name": "accountNo", "in": "path", "required": true, "type": "string" }
        ],
        "responses": {
          "200": {
            "description": "Account details",
            "schema": { "$ref": "#/definitions/AccountOut" }
          }
        }
      }
    },
    "/accounts/list": {
      "get": {
        "tags": ["Accounts"],
        "x-k2-entityName": "Accounts",
        "operationId": "ListAccounts",
        "responses": {
          "200": {
            "description": "List of accounts",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/AccountOut" }
            }
          }
        }
      }
    },

    "/folders/createFolder": {
      "post": {
        "tags": ["Folders"],
        "x-k2-entityName": "Folders",
        "operationId": "CreateFolder",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": { "$ref": "#/definitions/FolderIn" }
          }
        ],
        "responses": {
          "201": {
            "description": "Folder created",
            "schema": { "$ref": "#/definitions/FolderOut" }
          }
        }
      }
    },
    "/folders/{folderId}": {
      "get": {
        "tags": ["Folders"],
        "x-k2-entityName": "Folders",
        "operationId": "GetFolderById",
        "parameters": [
          { "name": "folderId", "in": "path", "required": true, "type": "string" }
        ],
        "responses": {
          "200": {
            "description": "Folder details",
            "schema": { "$ref": "#/definitions/FolderOut" }
          }
        }
      }
    },
    "/folders/list": {
      "get": {
        "tags": ["Folders"],
        "x-k2-entityName": "Folders",
        "operationId": "ListFolders",
        "responses": {
          "200": {
            "description": "List of folders",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/FolderOut" }
            }
          }
        }
      }
    },

    "/documents/upload": {
      "post": {
        "tags": ["Documents"],
        "x-k2-entityName": "Documents",
        "operationId": "UploadDocument",
        "parameters": [
          {
            "in": "formData",
            "name": "file",
            "type": "file",
            "required": true
          },
          {
            "in": "formData",
            "name": "folderId",
            "type": "string",
            "required": true
          }
        ],
        "responses": {
          "201": {
            "description": "Document uploaded",
            "schema": { "$ref": "#/definitions/DocumentOut" }
          }
        }
      }
    },
    "/documents/{docId}": {
      "get": {
        "tags": ["Documents"],
        "x-k2-entityName": "Documents",
        "operationId": "GetDocumentById",
        "parameters": [
          { "name": "docId", "in": "path", "required": true, "type": "string" }
        ],
        "responses": {
          "200": {
            "description": "Document details",
            "schema": { "$ref": "#/definitions/DocumentOut" }
          }
        }
      }
    },
    "/documents/list": {
      "get": {
        "tags": ["Documents"],
        "x-k2-entityName": "Documents",
        "operationId": "ListDocuments",
        "responses": {
          "200": {
            "description": "List of documents",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/DocumentOut" }
            }
          }
        }
      }
    },

    "/screenings/create": {
      "post": {
        "tags": ["Screenings"],
        "x-k2-entityName": "Screenings",
        "operationId": "CreateScreening",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": { "$ref": "#/definitions/ScreeningIn" }
          }
        ],
        "responses": {
          "201": {
            "description": "Screening created",
            "schema": { "$ref": "#/definitions/ScreeningOut" }
          }
        }
      }
    },
    "/screenings/{screeningId}": {
      "get": {
        "tags": ["Screenings"],
        "x-k2-entityName": "Screenings",
        "operationId": "GetScreeningById",
        "parameters": [
          { "name": "screeningId", "in": "path", "required": true, "type": "string" }
        ],
        "responses": {
          "200": {
            "description": "Screening details",
            "schema": { "$ref": "#/definitions/ScreeningOut" }
          }
        }
      }
    },
    "/screenings/list": {
      "get": {
        "tags": ["Screenings"],
        "x-k2-entityName": "Screenings",
        "operationId": "ListScreenings",
        "responses": {
          "200": {
            "description": "List of screenings",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/ScreeningOut" }
            }
          }
        }
      }
    },

    "/system/health": {
      "get": {
        "tags": ["System"],
        "x-k2-entityName": "System",
        "operationId": "GetSystemHealth",
        "responses": {
          "200": {
            "description": "Health status",
            "schema": { "$ref": "#/definitions/HealthOut" }
          }
        }
      }
    }
  },
  "definitions": {
    "CustomerIn": {
      "type": "object",
      "properties": {
        "NationalID": { "type": "string" },
        "PassportNo": { "type": "string" },
        "NameAr": { "type": "string" },
        "NameEn": { "type": "string" },
        "DOB": { "type": "string", "format": "date" },
        "Gender": { "type": "string" },
        "Address": { "type": "string" },
        "Mobile": { "type": "string" },
        "Email": { "type": "string" },
        "BranchCode": { "type": "string" }
      },
      "required": ["NationalID", "NameEn", "DOB", "Gender", "Mobile"]
    },
    "CustomerOut": {
      "type": "object",
      "properties": {
        "CIF": { "type": "string" },
        "NationalID": { "type": "string" },
        "NameEn": { "type": "string" }
      }
    },
    "AccountIn": {
      "type": "object",
      "properties": {
        "CIF": { "type": "string" },
        "AccountType": { "type": "string" },
        "Currency": { "type": "string" }
      },
      "required": ["CIF", "AccountType", "Currency"]
    },
    "AccountOut": {
      "type": "object",
      "properties": {
        "AccountNumber": { "type": "string" },
        "CIF": { "type": "string" }
      }
    },
    "FolderIn": {
      "type": "object",
      "properties": {
        "Name": { "type": "string" },
        "ParentId": { "type": "string" }
      },
      "required": ["Name"]
    },
    "FolderOut": {
      "type": "object",
      "properties": {
        "FolderId": { "type": "string" },
        "Name": { "type": "string" }
      }
    },
    "DocumentOut": {
      "type": "object",
      "properties": {
        "DocumentId": { "type": "string" },
        "FileName": { "type": "string" },
        "FolderId": { "type": "string" }
      }
    },
    "ScreeningIn": {
      "type": "object",
      "properties": {
        "CIF": { "type": "string" },
        "Type": { "type": "string" }
      },
      "required": ["CIF", "Type"]
    },
    "ScreeningOut": {
      "type": "object",
      "properties": {
        "ScreeningId": { "type": "string" },
        "CIF": { "type": "string" },
        "Result": { "type": "string" }
      }
    },
    "HealthOut": {
      "type": "object",
      "properties": {
        "status": { "type": "string" },
        "uptime": { "type": "string" }
      }
    }
  }
}
